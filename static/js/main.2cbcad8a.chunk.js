(this["webpackJsonplottery-react"]=this["webpackJsonplottery-react"]||[]).push([[0],{343:function(t,e,n){},358:function(t,e){},360:function(t,e){},362:function(t,e){},366:function(t,e){},393:function(t,e){},395:function(t,e){},405:function(t,e){},407:function(t,e){},418:function(t,e){},420:function(t,e){},539:function(t,e){},541:function(t,e){},548:function(t,e){},549:function(t,e){},647:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),r=n(85),s=n.n(r),i=(n(343),n(124)),u=n(90),o=n(27),p=n.n(o),l=n(320),b=new(n.n(l).a)(window.ethereum),f=new b.eth.Contract([{constant:!0,inputs:[],name:"manager",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"pickWinner",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getPlayers",outputs:[{name:"",type:"address[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"enter",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[{name:"",type:"uint256"}],name:"players",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"}],"0x1e334aB48EA46ca6D8E9e1078839b372706baC77"),d=n(663),h=n(666),j=n(667),y=n(664),m=n(665),x=n(671),O=n(669),v=n(668),g=n(19),w=window.ethereum,k=function(){var t=Object(a.useState)(""),e=Object(u.a)(t,2),n=e[0],c=e[1],r=Object(a.useState)([]),s=Object(u.a)(r,2),o=s[0],l=s[1],k=Object(a.useState)(""),S=Object(u.a)(k,2),C=S[0],M=S[1],W=Object(a.useState)(""),A=Object(u.a)(W,2),E=A[0],F=A[1],P=Object(a.useState)(!1),B=Object(u.a)(P,2),T=B[0],D=B[1],I=Object(a.useState)(""),L=Object(u.a)(I,2),q=L[0],J=L[1],z=function(){var t=Object(i.a)(p.a.mark((function t(e){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),J(""),t.prev=2,t.next=5,b.eth.getAccounts();case 5:if(n=t.sent,!E){t.next=11;break}return J("Waiting on transaction success..."),t.next=10,f.methods.enter().send({from:n[0],value:b.utils.toWei(E,"ether")});case 10:J("You have entered!");case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),J(t.t0.message);case 16:case"end":return t.stop()}}),t,null,[[2,13]])})));return function(e){return t.apply(this,arguments)}}(),G=function(){var t=Object(i.a)(p.a.mark((function t(){var e;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return J(""),t.prev=1,t.next=4,b.eth.getAccounts();case 4:return e=t.sent,J("Waiting on transaction success..."),t.next=8,f.methods.pickWinner().send({from:e[0]});case 8:J("A winner has been picked!"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),J(t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(){return t.apply(this,arguments)}}(),R=function(){var t=Object(i.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.request({method:"eth_requestAccounts"});case 2:D(!0);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Y=[{header:"Manager",description:" This contract is managed by ".concat(n,"."),fluid:!0},{header:"Stats",description:" There are currently\n       ".concat(o.length," people entered, competing to\n        win ").concat(b.utils.fromWei(C)," ether."),fluid:!0}];return Object(a.useEffect)((function(){var t=function(){var t=Object(i.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.eth.getAccounts();case 2:0!==t.sent.length&&D(!0);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[]),Object(a.useEffect)((function(){var t=function(){var t=Object(i.a)(p.a.mark((function t(){var e,n,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.methods.manager().call();case 2:return e=t.sent,c(e),t.next=6,f.methods.getPlayers().call();case 6:return n=t.sent,l(n),t.next=10,b.eth.getBalance(f.options.address);case 10:a=t.sent,M(a);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[]),Object(g.jsxs)(d.a,{children:[Object(g.jsx)(h.a,{fluid:!0,widths:1,children:Object(g.jsx)(h.a.Item,{header:!0,children:"Lottery Contract"})}),Object(g.jsx)(j.a.Group,{items:Y}),Object(g.jsx)(y.a,{}),T?Object(g.jsxs)("div",{children:[Object(g.jsxs)(m.a,{onSubmit:z,children:[Object(g.jsxs)(m.a.Field,{children:[Object(g.jsx)(x.a,{size:"medium",children:"Want to try your luck?"}),Object(g.jsx)("label",{children:"Amount of ether to enter"}),Object(g.jsx)("input",{type:"text",value:E,onChange:function(t){F(t.target.value)}})]}),Object(g.jsx)(O.a,{type:"submit",primary:!0,children:"Submit"})]}),Object(g.jsx)(y.a,{}),Object(g.jsx)("h4",{children:"Ready to pick a winner?"}),Object(g.jsx)(O.a,{onClick:G,color:"teal",children:"Pick a winner"}),Object(g.jsx)(y.a,{})]}):Object(g.jsx)(O.a,{onClick:R,color:"green",children:"Connect Wallet"}),Object(g.jsx)(v.a,{hidden:!q,children:q})]})},S=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,672)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,r=e.getLCP,s=e.getTTFB;n(t),a(t),c(t),r(t),s(t)}))};n(646);s.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(k,{})}),document.getElementById("root")),S()}},[[647,1,2]]]);
//# sourceMappingURL=main.2cbcad8a.chunk.js.map